<div class="mx-auto">
    <div class="text-center">
        <h2>Update Account:</h2>
        {{#if last_name}}
        <form id="editForm" form action="/account/update" method="POST" class="mb-3">
            <input type="hidden" name="user_id" value="{{user_id}}">
            <input type="text" name="first_name" value="{{first_name}}" required>
            <P></P>
            <input type="text" name="last_name" value="{{last_name}}" required>
            <P></P>
            <input type="email" name="email" value="{{email}}" required>
            <P></P>
            <input type="text" name="street" value="{{street}}" required>
            <P></P>
            <input type="text" name="city" value="{{city}}" required>
            <P></P>
            <input type="text" name="state" value="{{state}}" required>
            <P></P>
            <input type="text" name="zip" value="{{zip}}" required>
            <P></P>
            <label for="private">Hide email from other users</label>
            <input type="hidden" name ="private" value="0">
            <input type="checkbox" name="private" value="1" {{private}}>
            
            <P></P>
            <input type="reset" name="resetManageBtn" value="reset!" class="details btn btn-primary">
            <input type="submit" name="editBtn" value="finish changes!" class="details btn btn-primary">
        </form>
        <button type="button" data-toggle="modal" data-target="#passModal" class="details btn btn-primary">update password!</button>
        <button type="button" data-toggle="modal" data-target="#deleteModal" class="details btn btn-primary">delete account :(</button>
        {{/if}}
        
        
        {{#if err}}
            <P>{{err}}</P>
        {{/if}}
    </div>
</div>

<div id="passModal" class="modal bd-example-modal-lg" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5>Change password</h5>
                <button id="exitBtn" type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="text-center">
                    <form id="updatePass" form action="/account/update_password" method="POST">
                    <input type="password" name="password" placeholder="old password" required>
                    <P></P>
                    <input type="password" name="newpass" placeholder="new password" required>
                    <P></P>
                    <input type="hidden" name="email" value="{{email}}">
                    <input type="submit" name="editPassBtn" value="update password!" class="details btn btn-primary">
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="deleteModal" class="modal bd-example-modal-lg" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5>Delete Account</h5>
                <button id="exitBtn" type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="text-center">
                    <h5>Please enter your password to confirm account deletion.</h5>
                    <h5>This action cannot be undone.</h5>
                    <form id="deleteForm" form action="/account/delete" method="POST">
                        <input type="hidden" name="user_id" value={{user_id}}>
                        <input type="hidden" name="email" value={{email}}>
                        <input type="password" name="password" placeholder="password" required>
                        <P></P>
                        <input type="submit" name="deleteAccBtn" value="confirm!" class="details btn btn-primary">
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>